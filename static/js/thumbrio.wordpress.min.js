function createButtonSynchronize(e,t){var n=function(e){if(4==e.readyState&&e.status>0){var t,n=e.response,a=JSON.parse(n),r=!0;switch(console.log(a.text),String(a.text)){case"0":t="No new image was added.";break;case"1":t="A new image was added.";break;case"error":t="There was an error during synchronization.",r=!1;break;default:t=a.text+" new images were added."}return WP_AUXILIAR.showMessage(t,r),setTimeout(function(){location.search=""},1e3),!1}},a=document.querySelector("#doaction"),r='\n	<button id="thumbrio-synchronize-btn" class=\'button action\'>\n		<img src="'+e+"\" width='30' height='30' style='display:inline-block; vertical-align:inherit;'/>Synchronize\n	</button>";a.insertAdjacentHTML("afterend",r);var i=document.getElementById("thumbrio-synchronize-btn");i.onclick=function(e){e.preventDefault();{var a={action:"sync"},r={"Content-type":"application/x-www-form-urlencoded"};WP_AUXILIAR.makeHttpRequest("POST",t+"/wp-admin/admin-post.php",r,a,!0,n)}console.log("Request send"),WP_AUXILIAR.showMessage("Synchronizing, please be patient. It could take several minutes",!0)}}function controlAdmin(){function e(e,t){var n=document.querySelector(".wrap ."+e);if(n)n.innerHTML=t;else{n=WP_AUXILIAR.createElement("div",{id:"message","class":e}),n.innerHTML=t;var a=document.querySelector(".wrap"),r=a.querySelector("#message");r&&r.remove(),a.insertBefore(n,a.children[0])}}var t={passwordField:document.querySelector('input[name="adminpass"]'),password2Field:document.querySelector('input[name="adminpass-repeated"]'),adminemailField:document.querySelector('input[name="adminemail"]'),formSignup:document.querySelector("#signup-form"),classnameOk:"updated",classnameError:"error"};t.passwordField.oninvalid=function(){return this.setCustomValidity(this.validity.patternMismatch?"Type a password greater than 8 characters":""),!0},t.password2Field.oninvalid=function(){return this.setCustomValidity(this.validity.patternMismatch?"Type a password greater than 8 characters":""),!0},t.adminemailField.oninvalid=function(){return this.setCustomValidity(this.validity.patternMismatch?"Type a valid email":""),!0},t.formSignup.onsubmit=function(n){return t.passwordField.value!=t.password2Field.value?(e(t.classnameError,"These passwords do not match"),n.preventDefault(),!1):void 0}}WP_AUXILIAR={createElement:function(e,t){var n,a=document.createElement(e);for(n in t)a.setAttribute(n,t[n]);return a},makeHttpRequest:function(e,t,n,a,r,i){var s,o;if(s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),s.onreadystatechange=function(){i(s)},s.open(e,t,r),n)for(o in n)s.setRequestHeader(o,n[o]);if(a){var d="";for(o in a)d+=o+"="+a[o]+"&";d=d.slice(0,d.length-1),s.send(d)}else s.send();return s},showMessage:function(e,t){var n=t?"updated":"error",a=document.getElementById("message");a||(a=WP_AUXILIAR.createElement("div",{id:"message","class":n+" below-h2"}),h2Title=document.querySelector(".wrap>h2"),h2Title.parentNode.insertBefore(a,h2Title.nextSibling)),a.innerHTML="<p>"+e+"</p>",a.style.display="none",a.style.display="block"}};